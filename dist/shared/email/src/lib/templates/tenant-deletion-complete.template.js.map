{"version":3,"sources":["../../../../../../shared/email/src/lib/templates/tenant-deletion-complete.template.ts"],"sourcesContent":["export interface TenantDeletionCompleteEmailData {\r\n  userName: string;\r\n  tenantName: string;\r\n  certificateReference: string;\r\n}\r\n\r\nfunction escapeHtml(str: string): string {\r\n  return str\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#39;');\r\n}\r\n\r\nexport function getTenantDeletionCompleteEmailHtml(\r\n  data: TenantDeletionCompleteEmailData\r\n): string {\r\n  const name = escapeHtml(data.userName);\r\n  const tenant = escapeHtml(data.tenantName);\r\n  const certRef = escapeHtml(data.certificateReference);\r\n\r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Your workspace has been deleted</title>\r\n</head>\r\n<body style=\"margin:0;padding:0;background-color:#f4f4f5;font-family:Arial,Helvetica,sans-serif;\">\r\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#f4f4f5;padding:40px 0;\">\r\n    <tr>\r\n      <td align=\"center\">\r\n        <table width=\"600\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#ffffff;border-radius:8px;overflow:hidden;\">\r\n          <tr>\r\n            <td style=\"background-color:#18181b;padding:24px 32px;\">\r\n              <h1 style=\"color:#ffffff;margin:0;font-size:24px;\">Mentor AI</h1>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td style=\"padding:32px;\">\r\n              <h2 style=\"color:#18181b;margin:0 0 16px;\">Workspace Deletion Complete</h2>\r\n              <p style=\"color:#3f3f46;font-size:16px;line-height:1.5;margin:0 0 16px;\">\r\n                Hi${name ? ` ${name}` : ''},\r\n              </p>\r\n              <p style=\"color:#3f3f46;font-size:16px;line-height:1.5;margin:0 0 16px;\">\r\n                As requested, the workspace <strong>${tenant}</strong> has been permanently deleted.\r\n              </p>\r\n\r\n              <div style=\"background-color:#f4f4f5;border:1px solid #e4e4e7;border-radius:8px;padding:16px;margin:16px 0;\">\r\n                <p style=\"color:#3f3f46;font-size:14px;margin:0 0 8px;\">\r\n                  <strong>GDPR Deletion Certificate Reference:</strong>\r\n                </p>\r\n                <p style=\"color:#71717a;font-size:14px;font-family:monospace;margin:0;\">\r\n                  ${certRef}\r\n                </p>\r\n              </div>\r\n\r\n              <p style=\"color:#3f3f46;font-size:16px;line-height:1.5;margin:0 0 16px;\">\r\n                In accordance with GDPR requirements:\r\n              </p>\r\n              <ul style=\"color:#3f3f46;font-size:14px;line-height:1.6;margin:0 0 16px;padding-left:20px;\">\r\n                <li>All personal data has been deleted or anonymized</li>\r\n                <li>Audit logs have been anonymized and retained for compliance</li>\r\n                <li>User identifiers have been replaced with cryptographic hashes</li>\r\n              </ul>\r\n\r\n              <p style=\"color:#71717a;font-size:14px;line-height:1.5;margin:16px 0 0;\">\r\n                Thank you for using Mentor AI. If you have any questions about this deletion or need a copy of your GDPR deletion certificate, please contact support@mentor-ai.com with your certificate reference.\r\n              </p>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td style=\"background-color:#f4f4f5;padding:16px 32px;text-align:center;\">\r\n              <p style=\"color:#a1a1aa;font-size:12px;margin:0;\">\r\n                &copy; ${new Date().getFullYear()} Mentor AI. All rights reserved.\r\n              </p>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n</body>\r\n</html>`.trim();\r\n}\r\n\r\nexport function getTenantDeletionCompleteEmailText(\r\n  data: TenantDeletionCompleteEmailData\r\n): string {\r\n  return [\r\n    `Workspace Deletion Complete - ${data.tenantName}`,\r\n    '',\r\n    `Hi${data.userName ? ` ${data.userName}` : ''},`,\r\n    '',\r\n    `As requested, the workspace \"${data.tenantName}\" has been permanently deleted.`,\r\n    '',\r\n    `GDPR Deletion Certificate Reference: ${data.certificateReference}`,\r\n    '',\r\n    'In accordance with GDPR requirements:',\r\n    '- All personal data has been deleted or anonymized',\r\n    '- Audit logs have been anonymized and retained for compliance',\r\n    '- User identifiers have been replaced with cryptographic hashes',\r\n    '',\r\n    'Thank you for using Mentor AI. If you have any questions about this deletion or need a copy of your GDPR deletion certificate, please contact support@mentor-ai.com with your certificate reference.',\r\n  ].join('\\n');\r\n}\r\n"],"names":["getTenantDeletionCompleteEmailHtml","getTenantDeletionCompleteEmailText","escapeHtml","str","replace","data","name","userName","tenant","tenantName","certRef","certificateReference","Date","getFullYear","trim","join"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAegBA,kCAAkC;eAAlCA;;IAyEAC,kCAAkC;eAAlCA;;;AAlFhB,SAASC,WAAWC,GAAW;IAC7B,OAAOA,IACJC,OAAO,CAAC,MAAM,SACdA,OAAO,CAAC,MAAM,QACdA,OAAO,CAAC,MAAM,QACdA,OAAO,CAAC,MAAM,UACdA,OAAO,CAAC,MAAM;AACnB;AAEO,SAASJ,mCACdK,IAAqC;IAErC,MAAMC,OAAOJ,WAAWG,KAAKE,QAAQ;IACrC,MAAMC,SAASN,WAAWG,KAAKI,UAAU;IACzC,MAAMC,UAAUR,WAAWG,KAAKM,oBAAoB;IAEpD,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;kBAsBQ,EAAEL,OAAO,CAAC,CAAC,EAAEA,KAAK,CAAC,GAAG,GAAG;;;oDAGS,EAAEE,OAAO;;;;;;;;kBAQ3C,EAAEE,QAAQ;;;;;;;;;;;;;;;;;;;;;uBAqBL,EAAE,IAAIE,OAAOC,WAAW,GAAG;;;;;;;;;OAS3C,CAAC,CAACC,IAAI;AACb;AAEO,SAASb,mCACdI,IAAqC;IAErC,OAAO;QACL,CAAC,8BAA8B,EAAEA,KAAKI,UAAU,CAAC,CAAC;QAClD;QACA,CAAC,EAAE,EAAEJ,KAAKE,QAAQ,GAAG,CAAC,CAAC,EAAEF,KAAKE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAChD;QACA,CAAC,6BAA6B,EAAEF,KAAKI,UAAU,CAAC,+BAA+B,CAAC;QAChF;QACA,CAAC,qCAAqC,EAAEJ,KAAKM,oBAAoB,CAAC,CAAC;QACnE;QACA;QACA;QACA;QACA;QACA;QACA;KACD,CAACI,IAAI,CAAC;AACT"}