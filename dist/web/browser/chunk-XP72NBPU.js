import{c as z}from"./chunk-R4LDHEAD.js";import{b as F,c as B,e as j,g as H,k as q,l as Y,m as J,q as Q}from"./chunk-NTA47MF3.js";import{a as E}from"./chunk-IZGLU5CJ.js";import{$a as G,A as w,Ba as d,C as _,Ca as k,D as C,Da as S,E as f,F as P,Ga as x,H as A,Ha as u,Ia as v,K as L,La as W,Ma as K,T as a,Wa as N,X as R,Xa as U,ca as s,da as m,ga as T,ha as V,hb as D,ia as M,ja as t,ka as o,la as g,pa as h,ra as y,ta as c,x as $,za as b}from"./chunk-G6XBTM5S.js";var O=class i{http=w(G);baseUrl="/api/admin/llm-config";getConfig(){return this.http.get(this.baseUrl)}updateConfig(l){return this.http.put(this.baseUrl,l)}validateProvider(l,e,r){let n={type:l};return e&&(n.apiKey=e),r&&(n.endpoint=r),this.http.post(`${this.baseUrl}/validate`,n)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var I=(i,l)=>l.id;function ee(i,l){i&1&&(t(0,"div",11),g(1,"div",12),o())}function ie(i,l){i&1&&(f(),t(0,"svg",4),g(1,"path",40),o())}function te(i,l){i&1&&(f(),t(0,"svg",4),g(1,"path",8)(2,"path",41),o())}function ne(i,l){i&1&&(g(0,"span",42),d(1," Validating... "))}function oe(i,l){i&1&&d(0," Validate API Key ")}function ae(i,l){i&1&&(f(),t(0,"svg",44),g(1,"path",45),o(),d(2," API key is valid "))}function le(i,l){if(i&1&&(f(),t(0,"svg",44),g(1,"path",46),o(),d(2)),i&2){let e=c(4);a(2),S(" ",e.primaryValidation$().errorMessage," ")}}function re(i,l){if(i&1&&(t(0,"div",43),s(1,ae,3,0)(2,le,3,1),o()),i&2){let e=c(3);b("validation-success",e.primaryValidation$().valid)("validation-error",!e.primaryValidation$().valid),a(),m(e.primaryValidation$().valid?1:2)}}function de(i,l){if(i&1&&(d(0),W(1,"number")),i&2){let e=c().$implicit;S(" (",K(1,1,e.costPer1kTokens,"1.4-4"),"/1K tokens) ")}}function ce(i,l){if(i&1&&(t(0,"option",48),d(1),s(2,de,2,4),o()),i&2){let e=l.$implicit;M("value",e.id),a(),S(" ",e.name," "),a(),m(e.costPer1kTokens!==null?2:-1)}}function pe(i,l){if(i&1){let e=h();t(0,"div",39)(1,"label",33),d(2,"Model"),o(),t(3,"select",47),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.primaryModelId,n)||(p.primaryModelId=n),C(n)}),T(4,ce,3,3,"option",48,I),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.primaryModelId),a(),V(e.primaryValidation$().models)}}function se(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"API Key"),o(),t(3,"div",34)(4,"input",35),v("ngModelChange",function(n){_(e);let p=c(2);return u(p.primaryApiKey,n)||(p.primaryApiKey=n),C(n)}),o(),t(5,"button",36),y("click",function(){_(e);let n=c(2);return C(n.showApiKey$.set(!n.showApiKey$()))}),s(6,ie,2,0,":svg:svg",4)(7,te,3,0,":svg:svg",4),o()()(),t(8,"button",37),y("click",function(){_(e);let n=c(2);return C(n.validatePrimaryProvider())}),s(9,ne,2,0)(10,oe,1,0),o(),s(11,re,3,5,"div",38),s(12,pe,6,1,"div",39)}if(i&2){let e,r=c(2);a(4),M("type",r.showApiKey$()?"text":"password"),x("ngModel",r.primaryApiKey),a(2),m(r.showApiKey$()?6:7),a(2),M("disabled",r.isValidating$()),a(),m(r.isValidating$()?9:10),a(2),m(r.primaryValidation$()?11:-1),a(),m((e=r.primaryValidation$())!=null&&e.valid&&r.primaryValidation$().models.length>0?12:-1)}}function me(i,l){i&1&&(f(),t(0,"svg",4),g(1,"path",40),o())}function _e(i,l){i&1&&(f(),t(0,"svg",4),g(1,"path",8)(2,"path",41),o())}function Ce(i,l){i&1&&(g(0,"span",42),d(1," Validating... "))}function ge(i,l){i&1&&d(0," Validate API Key ")}function fe(i,l){i&1&&(f(),t(0,"svg",44),g(1,"path",45),o(),d(2," API key is valid "))}function xe(i,l){if(i&1&&(f(),t(0,"svg",44),g(1,"path",46),o(),d(2)),i&2){let e=c(4);a(2),S(" ",e.primaryValidation$().errorMessage," ")}}function ue(i,l){if(i&1&&(t(0,"div",43),s(1,fe,3,0)(2,xe,3,1),o()),i&2){let e=c(3);b("validation-success",e.primaryValidation$().valid)("validation-error",!e.primaryValidation$().valid),a(),m(e.primaryValidation$().valid?1:2)}}function ve(i,l){if(i&1&&(t(0,"option",48),d(1),o()),i&2){let e=l.$implicit;M("value",e.id),a(),k(e.name)}}function ye(i,l){if(i&1){let e=h();t(0,"div",39)(1,"label",33),d(2,"Model"),o(),t(3,"select",47),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.primaryModelId,n)||(p.primaryModelId=n),C(n)}),T(4,ve,2,2,"option",48,I),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.primaryModelId),a(),V(e.primaryValidation$().models)}}function he(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"API Key"),o(),t(3,"div",34)(4,"input",49),v("ngModelChange",function(n){_(e);let p=c(2);return u(p.primaryApiKey,n)||(p.primaryApiKey=n),C(n)}),o(),t(5,"button",36),y("click",function(){_(e);let n=c(2);return C(n.showApiKey$.set(!n.showApiKey$()))}),s(6,me,2,0,":svg:svg",4)(7,_e,3,0,":svg:svg",4),o()()(),t(8,"button",37),y("click",function(){_(e);let n=c(2);return C(n.validatePrimaryProvider())}),s(9,Ce,2,0)(10,ge,1,0),o(),s(11,ue,3,5,"div",38),s(12,ye,6,1,"div",39)}if(i&2){let e,r=c(2);a(4),M("type",r.showApiKey$()?"text":"password"),x("ngModel",r.primaryApiKey),a(2),m(r.showApiKey$()?6:7),a(2),M("disabled",r.isValidating$()),a(),m(r.isValidating$()?9:10),a(2),m(r.primaryValidation$()?11:-1),a(),m((e=r.primaryValidation$())!=null&&e.valid&&r.primaryValidation$().models.length>0?12:-1)}}function be(i,l){i&1&&(g(0,"span",42),d(1," Checking... "))}function Me(i,l){i&1&&d(0," Check Connection ")}function Pe(i,l){i&1&&(f(),t(0,"svg",44),g(1,"path",45),o(),d(2," Connection successful "))}function Le(i,l){if(i&1&&(f(),t(0,"svg",44),g(1,"path",46),o(),d(2)),i&2){let e=c(4);a(2),S(" ",e.primaryValidation$().errorMessage," ")}}function Se(i,l){if(i&1&&(t(0,"div",43),s(1,Pe,3,0)(2,Le,3,1),o()),i&2){let e=c(3);b("validation-success",e.primaryValidation$().valid)("validation-error",!e.primaryValidation$().valid),a(),m(e.primaryValidation$().valid?1:2)}}function ke(i,l){if(i&1&&(t(0,"option",48),d(1),o()),i&2){let e=l.$implicit;M("value",e.id),a(),k(e.name)}}function we(i,l){if(i&1&&(t(0,"li"),d(1),o()),i&2){let e=c(5);a(),S(" GPU: ",e.primaryValidation$().resourceInfo.gpuMemoryGb," GB VRAM recommended ")}}function Te(i,l){if(i&1&&(t(0,"div",51)(1,"p",52),d(2,"Resource Requirements:"),o(),t(3,"ul",53),s(4,we,2,1,"li"),t(5,"li"),d(6),o(),t(7,"li"),d(8),o()()()),i&2){let e=c(4);a(4),m(e.primaryValidation$().resourceInfo.gpuRequired?4:-1),a(2),S("CPU: ",e.primaryValidation$().resourceInfo.cpuCores," cores minimum"),a(2),S("RAM: ",e.primaryValidation$().resourceInfo.ramGb," GB minimum")}}function Ve(i,l){if(i&1){let e=h();t(0,"div",39)(1,"label",33),d(2,"Model"),o(),t(3,"select",47),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.primaryModelId,n)||(p.primaryModelId=n),C(n)}),T(4,ke,2,2,"option",48,I),o()(),s(6,Te,9,3,"div",51)}if(i&2){let e=c(3);a(3),x("ngModel",e.primaryModelId),a(),V(e.primaryValidation$().models),a(2),m(e.primaryValidation$().resourceInfo?6:-1)}}function Ee(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"Endpoint URL"),o(),t(3,"input",50),v("ngModelChange",function(n){_(e);let p=c(2);return u(p.primaryEndpoint,n)||(p.primaryEndpoint=n),C(n)}),o()(),t(4,"button",37),y("click",function(){_(e);let n=c(2);return C(n.validatePrimaryProvider())}),s(5,be,2,0)(6,Me,1,0),o(),s(7,Se,3,5,"div",38),s(8,Ve,7,2)}if(i&2){let e,r=c(2);a(3),x("ngModel",r.primaryEndpoint),a(),M("disabled",r.isValidating$()),a(),m(r.isValidating$()?5:6),a(2),m(r.primaryValidation$()?7:-1),a(),m((e=r.primaryValidation$())!=null&&e.valid&&r.primaryValidation$().models.length>0?8:-1)}}function Oe(i,l){i&1&&(g(0,"span",42),d(1," Checking... "))}function Ie(i,l){i&1&&d(0," Check Connection ")}function $e(i,l){i&1&&(f(),t(0,"svg",44),g(1,"path",45),o(),d(2," Connection successful "))}function Ae(i,l){if(i&1&&(f(),t(0,"svg",44),g(1,"path",46),o(),d(2)),i&2){let e=c(4);a(2),S(" ",e.primaryValidation$().errorMessage," ")}}function Re(i,l){if(i&1&&(t(0,"div",43),s(1,$e,3,0)(2,Ae,3,1),o()),i&2){let e=c(3);b("validation-success",e.primaryValidation$().valid)("validation-error",!e.primaryValidation$().valid),a(),m(e.primaryValidation$().valid?1:2)}}function We(i,l){if(i&1&&(t(0,"option",48),d(1),o()),i&2){let e=l.$implicit;M("value",e.id),a(),k(e.name)}}function Ke(i,l){if(i&1){let e=h();t(0,"div",39)(1,"label",33),d(2,"Model"),o(),t(3,"select",47),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.primaryModelId,n)||(p.primaryModelId=n),C(n)}),T(4,We,2,2,"option",48,I),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.primaryModelId),a(),V(e.primaryValidation$().models)}}function Ne(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"Endpoint URL"),o(),t(3,"input",54),v("ngModelChange",function(n){_(e);let p=c(2);return u(p.primaryEndpoint,n)||(p.primaryEndpoint=n),C(n)}),o()(),t(4,"button",37),y("click",function(){_(e);let n=c(2);return C(n.validatePrimaryProvider())}),s(5,Oe,2,0)(6,Ie,1,0),o(),s(7,Re,3,5,"div",38),s(8,Ke,6,1,"div",39)}if(i&2){let e,r=c(2);a(3),x("ngModel",r.primaryEndpoint),a(),M("disabled",r.isValidating$()),a(),m(r.isValidating$()?5:6),a(2),m(r.primaryValidation$()?7:-1),a(),m((e=r.primaryValidation$())!=null&&e.valid&&r.primaryValidation$().models.length>0?8:-1)}}function Ue(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"API Key"),o(),t(3,"input",55),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackApiKey,n)||(p.fallbackApiKey=n),C(n)}),o()(),t(4,"div",32)(5,"label",33),d(6,"Model ID"),o(),t(7,"input",56),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackModelId,n)||(p.fallbackModelId=n),C(n)}),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.fallbackApiKey),a(4),x("ngModel",e.fallbackModelId)}}function Ge(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"API Key"),o(),t(3,"input",57),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackApiKey,n)||(p.fallbackApiKey=n),C(n)}),o()(),t(4,"div",32)(5,"label",33),d(6,"Model ID"),o(),t(7,"input",58),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackModelId,n)||(p.fallbackModelId=n),C(n)}),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.fallbackApiKey),a(4),x("ngModel",e.fallbackModelId)}}function De(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"Endpoint URL"),o(),t(3,"input",50),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackEndpoint,n)||(p.fallbackEndpoint=n),C(n)}),o()(),t(4,"div",32)(5,"label",33),d(6,"Model ID"),o(),t(7,"input",59),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackModelId,n)||(p.fallbackModelId=n),C(n)}),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.fallbackEndpoint),a(4),x("ngModel",e.fallbackModelId)}}function ze(i,l){if(i&1){let e=h();t(0,"div",32)(1,"label",33),d(2,"Endpoint URL"),o(),t(3,"input",54),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackEndpoint,n)||(p.fallbackEndpoint=n),C(n)}),o()(),t(4,"div",32)(5,"label",33),d(6,"Model ID"),o(),t(7,"input",60),v("ngModelChange",function(n){_(e);let p=c(3);return u(p.fallbackModelId,n)||(p.fallbackModelId=n),C(n)}),o()()}if(i&2){let e=c(3);a(3),x("ngModel",e.fallbackEndpoint),a(4),x("ngModel",e.fallbackModelId)}}function Fe(i,l){if(i&1){let e=h();t(0,"div",16)(1,"button",17),y("click",function(){_(e);let n=c(2);return C(n.selectFallbackProvider(n.LlmProviderType.OPENAI))}),t(2,"div",18),f(),t(3,"svg",4),g(4,"path",19),o()(),P(),t(5,"div",20)(6,"div",21),d(7,"OpenAI"),o(),t(8,"div",22),d(9,"GPT models"),o()()(),t(10,"button",17),y("click",function(){_(e);let n=c(2);return C(n.selectFallbackProvider(n.LlmProviderType.OPENROUTER))}),t(11,"div",18),f(),t(12,"svg",4),g(13,"path",23),o()(),P(),t(14,"div",20)(15,"div",21),d(16,"OpenRouter"),o(),t(17,"div",22),d(18,"Cloud-based"),o()()(),t(19,"button",17),y("click",function(){_(e);let n=c(2);return C(n.selectFallbackProvider(n.LlmProviderType.LOCAL_LLAMA))}),t(20,"div",18),f(),t(21,"svg",4),g(22,"path",24),o()(),P(),t(23,"div",20)(24,"div",21),d(25,"Local Llama"),o(),t(26,"div",22),d(27,"Self-hosted"),o()()(),t(28,"button",17),y("click",function(){_(e);let n=c(2);return C(n.selectFallbackProvider(n.LlmProviderType.LM_STUDIO))}),t(29,"div",18),f(),t(30,"svg",4),g(31,"path",19),o()(),P(),t(32,"div",20)(33,"div",21),d(34,"LM Studio"),o(),t(35,"div",22),d(36,"Local AI"),o()()()(),s(37,Ue,8,2),s(38,Ge,8,2),s(39,De,8,2),s(40,ze,8,2)}if(i&2){let e=c(2);a(),b("selected",e.fallbackProviderType$()==="OPENAI"),a(9),b("selected",e.fallbackProviderType$()==="OPENROUTER"),a(9),b("selected",e.fallbackProviderType$()==="LOCAL_LLAMA"),a(9),b("selected",e.fallbackProviderType$()==="LM_STUDIO"),a(9),m(e.fallbackProviderType$()==="OPENAI"?37:-1),a(),m(e.fallbackProviderType$()==="OPENROUTER"?38:-1),a(),m(e.fallbackProviderType$()==="LOCAL_LLAMA"?39:-1),a(),m(e.fallbackProviderType$()==="LM_STUDIO"?40:-1)}}function Be(i,l){if(i&1&&(t(0,"span",29),d(1),o()),i&2){let e=c(2);a(),k(e.errorMessage$())}}function je(i,l){if(i&1&&(t(0,"span",30),d(1),o()),i&2){let e=c(2);a(),k(e.successMessage$())}}function He(i,l){i&1&&(g(0,"span",42),d(1," Saving... "))}function qe(i,l){i&1&&d(0," Save Configuration ")}function Ye(i,l){if(i&1){let e=h();t(0,"div",13)(1,"h2",14),d(2,"Primary Provider"),o(),t(3,"p",15),d(4," Select the main AI provider for your platform. This is used for all AI operations. "),o(),t(5,"div",16)(6,"button",17),y("click",function(){_(e);let n=c();return C(n.selectPrimaryProvider(n.LlmProviderType.OPENAI))}),t(7,"div",18),f(),t(8,"svg",4),g(9,"path",19),o()(),P(),t(10,"div",20)(11,"div",21),d(12,"OpenAI"),o(),t(13,"div",22),d(14,"GPT-4o, GPT-4, GPT-3.5"),o()()(),t(15,"button",17),y("click",function(){_(e);let n=c();return C(n.selectPrimaryProvider(n.LlmProviderType.OPENROUTER))}),t(16,"div",18),f(),t(17,"svg",4),g(18,"path",23),o()(),P(),t(19,"div",20)(20,"div",21),d(21,"OpenRouter"),o(),t(22,"div",22),d(23,"Cloud-based, multiple models"),o()()(),t(24,"button",17),y("click",function(){_(e);let n=c();return C(n.selectPrimaryProvider(n.LlmProviderType.LOCAL_LLAMA))}),t(25,"div",18),f(),t(26,"svg",4),g(27,"path",24),o()(),P(),t(28,"div",20)(29,"div",21),d(30,"Local Llama"),o(),t(31,"div",22),d(32,"Self-hosted, Ollama"),o()()(),t(33,"button",17),y("click",function(){_(e);let n=c();return C(n.selectPrimaryProvider(n.LlmProviderType.LM_STUDIO))}),t(34,"div",18),f(),t(35,"svg",4),g(36,"path",19),o()(),P(),t(37,"div",20)(38,"div",21),d(39,"LM Studio"),o(),t(40,"div",22),d(41,"Local AI, OpenAI-compatible"),o()()()(),s(42,se,13,7),s(43,he,13,7),s(44,Ee,9,5),s(45,Ne,9,5),o(),t(46,"div",13)(47,"div",25)(48,"h2",14),d(49,"Fallback Provider (Optional)"),o(),t(50,"label",26)(51,"input",27),v("ngModelChange",function(n){_(e);let p=c();return u(p.hasFallback,n)||(p.hasFallback=n),C(n)}),o(),d(52," Enable fallback "),o()(),t(53,"p",15),d(54," A fallback provider is used when the primary provider is unavailable. "),o(),s(55,Fe,41,12),o(),t(56,"div",28),s(57,Be,2,1,"span",29),s(58,je,2,1,"span",30),t(59,"button",31),y("click",function(){_(e);let n=c();return C(n.saveConfiguration())}),s(60,He,2,0)(61,qe,1,0),o()()}if(i&2){let e=c();a(6),b("selected",e.primaryProviderType$()==="OPENAI"),a(9),b("selected",e.primaryProviderType$()==="OPENROUTER"),a(9),b("selected",e.primaryProviderType$()==="LOCAL_LLAMA"),a(9),b("selected",e.primaryProviderType$()==="LM_STUDIO"),a(9),m(e.primaryProviderType$()==="OPENROUTER"?42:-1),a(),m(e.primaryProviderType$()==="OPENAI"?43:-1),a(),m(e.primaryProviderType$()==="LOCAL_LLAMA"?44:-1),a(),m(e.primaryProviderType$()==="LM_STUDIO"?45:-1),a(6),x("ngModel",e.hasFallback),a(4),m(e.hasFallback?55:-1),a(2),m(e.errorMessage$()?57:-1),a(),m(e.successMessage$()?58:-1),a(),M("disabled",e.isSaving$()||!e.canSave()),a(),m(e.isSaving$()?60:61)}}var X=class i{llmConfigService=w(O);destroyRef=w(A);LlmProviderType=z;isLoading$=L(!0);isValidating$=L(!1);isSaving$=L(!1);showApiKey$=L(!1);errorMessage$=L("");successMessage$=L("");primaryProviderType$=L("OPENROUTER");primaryValidation$=L(null);fallbackProviderType$=L("LOCAL_LLAMA");primaryApiKey="";primaryEndpoint="http://localhost:11434";primaryModelId="";fallbackApiKey="";fallbackEndpoint="http://localhost:11434";fallbackModelId="";hasFallback=!1;ngOnInit(){this.loadConfig()}loadConfig(){this.isLoading$.set(!0),this.llmConfigService.getConfig().pipe(E(this.destroyRef)).subscribe({next:l=>{let e=l.data;e.primaryProvider&&(this.primaryProviderType$.set(e.primaryProvider.providerType),this.primaryModelId=e.primaryProvider.modelId,e.primaryProvider.endpoint&&(this.primaryEndpoint=e.primaryProvider.endpoint)),e.fallbackProvider&&(this.hasFallback=!0,this.fallbackProviderType$.set(e.fallbackProvider.providerType),this.fallbackModelId=e.fallbackProvider.modelId,e.fallbackProvider.endpoint&&(this.fallbackEndpoint=e.fallbackProvider.endpoint)),this.isLoading$.set(!1)},error:l=>{this.errorMessage$.set(l.message||"Failed to load configuration"),this.isLoading$.set(!1)}})}selectPrimaryProvider(l){this.primaryProviderType$.set(l),this.primaryValidation$.set(null),this.primaryModelId=""}selectFallbackProvider(l){this.fallbackProviderType$.set(l),this.fallbackModelId=""}validatePrimaryProvider(){this.isValidating$.set(!0),this.primaryValidation$.set(null);let l=this.primaryProviderType$(),e=l==="OPENROUTER"||l==="OPENAI"?this.primaryApiKey:void 0,r=l==="LOCAL_LLAMA"||l==="LM_STUDIO"?this.primaryEndpoint:void 0;this.llmConfigService.validateProvider(l,e,r).pipe(E(this.destroyRef)).subscribe({next:n=>{this.primaryValidation$.set(n.data);let p=n.data.models[0];n.data.valid&&p&&(this.primaryModelId=p.id),this.isValidating$.set(!1)},error:n=>{this.primaryValidation$.set({valid:!1,models:[],resourceInfo:null,errorMessage:n.message||"Validation failed"}),this.isValidating$.set(!1)}})}canSave(){return!(!this.primaryModelId||(this.primaryProviderType$()==="OPENROUTER"||this.primaryProviderType$()==="OPENAI")&&!this.primaryApiKey||this.hasFallback&&!this.fallbackModelId)}saveConfiguration(){this.isSaving$.set(!0),this.errorMessage$.set(""),this.successMessage$.set("");let l={primaryProvider:{type:this.primaryProviderType$(),apiKey:this.primaryProviderType$()==="OPENROUTER"||this.primaryProviderType$()==="OPENAI"?this.primaryApiKey:void 0,endpoint:this.primaryProviderType$()==="LOCAL_LLAMA"||this.primaryProviderType$()==="LM_STUDIO"?this.primaryEndpoint:void 0,modelId:this.primaryModelId},fallbackProvider:this.hasFallback?{type:this.fallbackProviderType$(),apiKey:this.fallbackProviderType$()==="OPENROUTER"||this.fallbackProviderType$()==="OPENAI"?this.fallbackApiKey:void 0,endpoint:this.fallbackProviderType$()==="LOCAL_LLAMA"||this.fallbackProviderType$()==="LM_STUDIO"?this.fallbackEndpoint:void 0,modelId:this.fallbackModelId}:null};this.llmConfigService.updateConfig(l).pipe(E(this.destroyRef)).subscribe({next:()=>{this.successMessage$.set("Configuration saved successfully"),this.isSaving$.set(!1),setTimeout(()=>this.successMessage$.set(""),3e3)},error:e=>{this.errorMessage$.set(e.message||"Failed to save configuration"),this.isSaving$.set(!1)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-llm-config"]],decls:15,vars:1,consts:[[1,"page"],[1,"page-header"],[1,"header-inner"],["routerLink","/chat",1,"back-link"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"header-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"page-title"],[1,"page-content"],[1,"loading-center"],[1,"spinner"],[1,"section-card"],[1,"section-title"],[1,"section-desc"],[1,"provider-grid"],["type","button",1,"provider-btn",3,"click"],[1,"provider-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"provider-info"],[1,"provider-name"],[1,"provider-desc"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"],[1,"fallback-header"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"save-row"],[1,"msg-error"],[1,"msg-success"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"form-group"],[1,"form-label"],[1,"input-wrap"],["placeholder","sk-or-...",1,"form-input","has-toggle",3,"ngModelChange","type","ngModel"],["type","button",1,"eye-toggle",3,"click"],["type","button",1,"btn","btn-outline",3,"click","disabled"],[1,"validation-status",3,"validation-success","validation-error"],[1,"form-group",2,"margin-top","16px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"btn-spinner"],[1,"validation-status"],["fill","currentColor","viewBox","0 0 20 20"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["placeholder","sk-...",1,"form-input","has-toggle",3,"ngModelChange","type","ngModel"],["type","text","placeholder","http://localhost:11434",1,"form-input",3,"ngModelChange","ngModel"],[1,"resource-box"],[1,"resource-title"],[1,"resource-list"],["type","text","placeholder","http://localhost:1234",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","sk-...",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","gpt-4o",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","sk-or-...",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","meta-llama/llama-3.1-8b-instruct",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","llama3.1:8b",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","model-name",1,"form-input",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),f(),t(4,"svg",4),g(5,"path",5),o()(),P(),t(6,"span",6),f(),t(7,"svg",4),g(8,"path",7)(9,"path",8),o()(),P(),t(10,"h1",9),d(11,"AI Provider Configuration"),o()()(),t(12,"div",10),s(13,ee,2,0,"div",11)(14,Ye,62,18),o()()),e&2&&(a(13),m(r.isLoading$()?13:14))},dependencies:[U,D,Q,Y,J,B,F,q,j,H,N],styles:["[_nghost-%COMP%]{display:block}.page[_ngcontent-%COMP%]{min-height:100vh;background:#0d0d0d;color:#fafafa;font-family:Inter,system-ui,sans-serif}.page-header[_ngcontent-%COMP%]{border-bottom:1px solid #2a2a2a;background:#1a1a1a}.header-inner[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:16px 24px;display:flex;align-items:center;gap:12px}.back-link[_ngcontent-%COMP%]{color:#6b6b6b;text-decoration:none;display:flex;align-items:center}.back-link[_ngcontent-%COMP%]:hover{color:#fafafa}.back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#3b82f6}.page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.page-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px 24px}.loading-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:48px 0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #2a2a2a;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.section-card[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #2a2a2a;border-radius:12px;padding:24px;margin-bottom:24px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:8px}.section-desc[_ngcontent-%COMP%]{font-size:14px;color:#a1a1a1;margin-bottom:24px;line-height:1.5}.provider-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}.provider-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;border-radius:10px;border:2px solid #2a2a2a;background:transparent;color:#fafafa;cursor:pointer;text-align:left;transition:border-color .2s}.provider-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f680}.provider-btn.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f60d}.provider-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:#3b82f61a}.provider-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#3b82f6}.provider-name[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.provider-desc[_ngcontent-%COMP%]{font-size:12px;color:#a1a1a1;margin-top:2px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:500;margin-bottom:6px;color:#fafafa}.input-wrap[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:#0d0d0d;border:1px solid #2a2a2a;border-radius:8px;color:#fafafa;font-size:14px;font-family:inherit;outline:none;transition:border-color .2s}.form-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}.form-input[_ngcontent-%COMP%]::placeholder{color:#6b6b6b}.form-input.has-toggle[_ngcontent-%COMP%]{padding-right:40px}.form-select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:#0d0d0d;border:1px solid #2a2a2a;border-radius:8px;color:#fafafa;font-size:14px;font-family:inherit;outline:none;appearance:auto;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a1a1a;color:#fafafa}.eye-toggle[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6b6b6b;cursor:pointer;padding:4px;display:flex;align-items:center}.eye-toggle[_ngcontent-%COMP%]:hover{color:#fafafa}.eye-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 20px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;border:none;transition:opacity .15s;font-family:inherit}.btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid #2a2a2a;color:#fafafa}.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#242424}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.btn-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.validation-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;margin-top:12px}.validation-status[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.validation-success[_ngcontent-%COMP%]{color:#22c55e}.validation-error[_ngcontent-%COMP%]{color:#ef4444}.resource-box[_ngcontent-%COMP%]{background:#242424;border-radius:8px;padding:12px 16px;margin-top:12px}.resource-title[_ngcontent-%COMP%]{font-size:13px;font-weight:500;margin-bottom:8px}.resource-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.resource-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;color:#a1a1a1;padding:2px 0}.fallback-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#a1a1a1;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:#3b82f6;width:16px;height:16px;cursor:pointer}.save-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px;margin-top:8px}.msg-success[_ngcontent-%COMP%]{font-size:13px;color:#22c55e}.msg-error[_ngcontent-%COMP%]{font-size:13px;color:#ef4444}"]})};export{X as LlmConfigComponent};
